(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e04f3fe"],{"28c0":function(i,e){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA0xpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTk0NDg5MDE3QzFCMTFFN0E3MEQ4QTVDMkUwMkJFMzkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTk0NDg5MDA3QzFCMTFFN0E3MEQ4QTVDMkUwMkJFMzkiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmU2MDNiMTUyLWM0ODEtMTE3YS1iZWEwLTg3MWNhYjZkYTUzNSIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmU2MDNiMTUyLWM0ODEtMTE3YS1iZWEwLTg3MWNhYjZkYTUzNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhBDcF0AAAFaSURBVHja1FWLbYNADCWoC7ACHYGOQEYgI1xHCCOQEXojlBHCCGWFrMAI9FnySSfX5g61RYol60Ry9vPn/Fyu61r8t5bFAfKSuuC9r3B00BraQOl7gi50OufmlI8TpbPhfGCAasPHCL0FMNhRIB/QC357mJnwxU+OPiUURAebHufMdhVnrYMwwF2JfglGLI34f8jqCQBqBYCi80jdK8FcOZNdjR8EADl/1wy5BxeADQxmSikii6MaLQBh41KZxHMiL98SALXRu2S5wpufc96/eAiF4cuek7+UQ2jlWO5CI7ea+GNOlIfg4seD+29a49sNH7n00sim55aLsugzsmgFaWaDPDIGshO8RRzn9+yTGk6+mMpHY9rlEPe4u6j7BEapgUmxsMl1Wrko1TM7jSXsiMYA6K3SxuWa4h4gs1dmV5fgp4nLOe1ev2INB6A24qz51zv+6WjlW4ABADLe11AAvUOzAAAAAElFTkSuQmCC"},"2b89":function(i,e,t){i.exports=t.p+"img/login_dec02.5b60ecea.png"},"57d9":function(i,e,t){i.exports=t.p+"img/login_dec03.95b126e1.png"},8472:function(i,e,t){i.exports=t.p+"img/login_dec01.0843a6cb.png"},da15:function(i,e,t){"use strict";t.r(e),t.d(e,"LoginForm",(function(){return f}));var o=function(){var i=this,e=i.$createElement,o=i._self._c||e;return o("div",[o("div",{staticClass:"login-page"},[o("div",{staticClass:"login-box"},[o("div",{staticClass:"box"}),o("form",{attrs:{method:"post",name:"login",id:"login"}},[i._m(0),i._m(1),o("div",{staticClass:"l-login"},[o("div",{staticClass:"logo"}),o("h1",[i._v("重設密碼")]),o("div",{staticClass:"input-box"},[o("i",{staticClass:"fa fa-lock"}),o("input",{directives:[{name:"model",rawName:"v-model",value:i.loginForm.newPwd,expression:"loginForm.newPwd"}],staticClass:"input-sty required",attrs:{type:"password",name:"newPwd",id:"newPwd",placeholder:"請輸入新密碼",autocomplete:"off"},domProps:{value:i.loginForm.newPwd},on:{input:function(e){e.target.composing||i.$set(i.loginForm,"newPwd",e.target.value)}}}),""!==i.errorMsgMap["newPwd"]?o("label",{staticClass:"error"},[i._v(i._s(i.errorMsgMap["newPwd"]))]):i._e()]),o("div",{staticClass:"input-box"},[o("i",{staticClass:"fa fa-lock"}),o("input",{directives:[{name:"model",rawName:"v-model",value:i.loginForm.confirmPwd,expression:"loginForm.confirmPwd"}],staticClass:"input-sty required",attrs:{type:"password",name:"confirmPwd",id:"confirmPwd",placeholder:"請再次輸入新密碼",autocomplete:"off"},domProps:{value:i.loginForm.confirmPwd},on:{input:function(e){e.target.composing||i.$set(i.loginForm,"confirmPwd",e.target.value)}}}),""!==i.errorMsgMap["confirmPwd"]?o("label",{staticClass:"error"},[i._v(i._s(i.errorMsgMap["confirmPwd"]))]):i._e()]),o("div",{staticClass:"input-box input-number h-flexCenter-ai"},[o("img",{staticClass:"val-img",attrs:{src:i.verificationCode.imgSrc}}),o("img",{staticClass:"refresh",attrs:{id:"refresh",src:t("28c0"),disabled:i.doubleClick},on:{click:function(e){return e.preventDefault(),i.refreshVerificationCode()}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:i.loginForm.verification,expression:"loginForm.verification"}],staticClass:"input-code code required",attrs:{type:"text",placeholder:"輸入驗證碼",maxlength:4,name:"code_num",id:"code_num"},domProps:{value:i.loginForm.verification},on:{input:function(e){e.target.composing||i.$set(i.loginForm,"verification",e.target.value)}}}),""!==i.errorMsgMap["verification"]?o("label",{staticClass:"error"},[i._v(i._s(i.errorMsgMap["verification"]))]):i._e()]),o("div",{staticClass:"l-login-btn-box"},[o("a",{staticClass:"btn login-submit-btn",attrs:{disabled:i.doubleClick},on:{click:function(e){return e.preventDefault(),i.validateAndSubmit()}}},[i._v("送出")])]),o("div",{staticClass:"l-login-footer"},[i._v(" ©2021 芝蔴街e學園 ")]),i._m(2)])])])]),o("APLightbox",{attrs:{message:i.lightbox.errorMsg,showLB:i.lightbox.showLB,confirmLink:i.lightbox.confirmLink},on:{closeAPLightbox:i.closeLB}})],1)},n=[function(){var i=this,e=i.$createElement,o=i._self._c||e;return o("div",{staticClass:"login_dec02"},[o("img",{attrs:{src:t("2b89")}})])},function(){var i=this,e=i.$createElement,o=i._self._c||e;return o("div",{staticClass:"login_dec03"},[o("img",{attrs:{src:t("57d9")}})])},function(){var i=this,e=i.$createElement,o=i._self._c||e;return o("div",{staticClass:"dec login_dec01"},[o("img",{attrs:{src:t("8472")}})])}],r=t("9ab4"),s=t("1b40"),a=t("87d7"),c=t("f2fa"),l=t("156a"),d=t("43e4"),u=t("93f3"),g=t("0d59"),m=t("3617"),h=t("f00f"),f=function(){function i(){this.newPwd="",this.confirmPwd="",this.verification=""}return Object(r["b"])([Object(a["a"])(),Object(c["a"])({message:"*必填"}),Object(l["a"])(/^(?=.*[a-z])(?=.*[A-Z])[A-Za-z].{6,}$/,{message:"*請輸入至少6位包含大小寫英文字母的密碼"})],i.prototype,"newPwd",void 0),Object(r["b"])([Object(a["a"])(),Object(c["a"])({message:"*必填"})],i.prototype,"confirmPwd",void 0),Object(r["b"])([Object(a["a"])(),Object(c["a"])({message:"*必填"})],i.prototype,"verification",void 0),i}(),b=function(i){function e(){var e=null!==i&&i.apply(this,arguments)||this;return e.doubleClick=!1,e.loginForm=new f,e.verificationCode={uid:"",imgSrc:""},e.errorMsgMap={newPwd:"",confirmPwd:"",verification:""},e.lightbox={showLB:!1,errorMsg:"",confirmLink:""},e}return Object(r["c"])(e,i),e.prototype.created=function(){this.refreshVerificationCode(),null===h["a"].getCookie("resetPwd")&&(this.lightbox.errorMsg="連結已失效",this.lightbox.showLB=!0,this.lightbox.confirmLink="/student/login")},e.prototype.refreshVerificationCode=function(){return Object(r["a"])(this,void 0,void 0,(function(){var i,e,t,o;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.doubleClick?[3,2]:(this.doubleClick=!0,i=Math.floor(Date.now()/1e3).toString(),e=Math.floor(1e3*Math.random()).toString(),this.verificationCode.uid=i+e,t={uniqueID:this.verificationCode.uid},o=this.verificationCode,[4,g["a"].refreshCodeImg(t)]);case 1:o.imgSrc=n.sent(),this.doubleClick=!1,n.label=2;case 2:return[2]}}))}))},e.prototype.validateAndSubmit=function(){return Object(r["a"])(this,void 0,void 0,(function(){var i=this;return Object(r["d"])(this,(function(e){return Object(d["a"])(this.loginForm,{skipMissingProperties:!0}).then((function(e){return Object(r["a"])(i,void 0,void 0,(function(){var i,t,o,n,s=this;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return this.errorMsgMap={newPwd:"",confirmPwd:"",verification:""},0!==e.length?(e.forEach((function(i,e){var t=i.constraints;Object.keys(t).forEach((function(e){s.errorMsgMap[i.property]=t[e]}))})),[2]):this.loginForm.confirmPwd!=this.loginForm.newPwd?(this.errorMsgMap["confirmPwd"]="*再次輸入密碼不符",[2]):this.doubleClick?[3,3]:(this.doubleClick=!0,i={code:this.loginForm.verification,uniqueID:this.verificationCode.uid},[4,g["a"].verificationCodeCheck(i)]);case 1:return t=r.sent(),t!==u["a"].Success?(this.errorMsgMap["verification"]=u["b"][t],this.doubleClick=!1,this.refreshVerificationCode(),[2]):(o={acc:this.$route.query.acc,pwd:this.loginForm.newPwd},[4,g["a"].stResetPwd(o)]);case 2:n=r.sent(),this.lightbox.errorMsg=u["b"][n],this.lightbox.showLB=!0,n===u["a"].UserResetPwdSuccess||n===u["a"].UserResetPwdInvalid?this.lightbox.confirmLink="/student/login":this.refreshVerificationCode(),this.doubleClick=!1,r.label=3;case 3:return[2]}}))}))})),[2]}))}))},e.prototype.closeLB=function(){this.lightbox.showLB=!1},e=Object(r["b"])([Object(s["a"])({components:{APLightbox:m["c"]}})],e),e}(s["d"]),v=b,p=(t("a65d"),t("2877")),w=Object(p["a"])(v,o,n,!1,null,null,null);e["default"]=w.exports}}]);
//# sourceMappingURL=chunk-8e04f3fe.855d42aa.js.map