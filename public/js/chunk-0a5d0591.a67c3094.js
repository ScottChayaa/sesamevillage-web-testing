(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a5d0591","chunk-74c42831"],{"60b9":function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var i=e("9ab4"),o=e("1b40"),c=e("0d59"),r=e("93f3"),s=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.token=window.localStorage.getItem("adminToken"),n.admin_identity=window.localStorage.getItem("admin_identity"),n}return Object(i["c"])(n,t),Object.defineProperty(n,"instance",{get:function(){return n.sInstance||(n.sInstance=new n),n.sInstance},enumerable:!1,configurable:!0}),n.prototype.logout=function(){window.localStorage.clear(),window.location.href="/admin/login"},n.prototype.checkToken=function(t){t!==r["a"].InvalidToken||this.logout()},n.prototype.getGrade=function(){return Object(i["a"])(this,void 0,void 0,(function(){var t,n;return Object(i["d"])(this,(function(e){switch(e.label){case 0:return t={token:this.token},[4,c["c"].getGrade(t)];case 1:return n=e.sent(),this.checkToken(n.ERR_CODE),[2,n.list]}}))}))},n.prototype.getLevel=function(t){return Object(i["a"])(this,void 0,void 0,(function(){var n,e;return Object(i["d"])(this,(function(i){switch(i.label){case 0:return n={grade:t,token:this.token},[4,c["c"].getLevel(n)];case 1:return e=i.sent(),this.checkToken(e.ERR_CODE),[2,e.list]}}))}))},n.prototype.getUnit=function(){return Object(i["a"])(this,void 0,void 0,(function(){var t,n;return Object(i["d"])(this,(function(e){for(t={},n=1;n<=25;n++)t[n]={unit:"Unit-"+n};return("/admin/quiz/question/add"!=window.location.pathname||"2"!=this.admin_identity&&"3"!=this.admin_identity)&&("/admin/quiz/question/edit"!=window.location.pathname||"2"!=this.admin_identity&&"3"!=this.admin_identity)&&("/admin/homework/question/add"!=window.location.pathname||"2"!=this.admin_identity&&"3"!=this.admin_identity)&&("/admin/homework/question/edit"!=window.location.pathname||"2"!=this.admin_identity&&"3"!=this.admin_identity)?(t[26]={unit:"Midterm Exam"},t[27]={unit:"Final Exam"},[2,t]):[2,t]}))}))},n.prototype.getAllCity=function(){return Object(i["a"])(this,void 0,void 0,(function(){var t,n;return Object(i["d"])(this,(function(e){switch(e.label){case 0:return t={token:this.token},[4,c["c"].getAllCity(t)];case 1:return n=e.sent(),this.checkToken(n.ERR_CODE),[2,n.list]}}))}))},n.prototype.getRegion=function(t){return Object(i["a"])(this,void 0,void 0,(function(){var n,e;return Object(i["d"])(this,(function(i){switch(i.label){case 0:return n={cid:t,token:this.token},[4,c["c"].getRegion(n)];case 1:return e=i.sent(),this.checkToken(e.ERR_CODE),[2,e.list]}}))}))},n.prototype.getSchoolCity=function(){return Object(i["a"])(this,void 0,void 0,(function(){var t,n;return Object(i["d"])(this,(function(e){switch(e.label){case 0:return t={token:this.token},[4,c["c"].getSchoolCity(t)];case 1:return n=e.sent(),this.checkToken(n.ERR_CODE),[2,n.list]}}))}))},n.prototype.getCity=function(t){return Object(i["a"])(this,void 0,void 0,(function(){var n,e;return Object(i["d"])(this,(function(i){switch(i.label){case 0:return n={sid:t,token:this.token},[4,c["c"].getCity(n)];case 1:return e=i.sent(),this.checkToken(e.ERR_CODE),[2,e.list]}}))}))},n.prototype.getSchool=function(t){return Object(i["a"])(this,void 0,void 0,(function(){var n,e;return Object(i["d"])(this,(function(i){switch(i.label){case 0:return n={cid:t,token:this.token},[4,c["c"].getSchool(n)];case 1:return e=i.sent(),this.checkToken(e.ERR_CODE),[2,e.list]}}))}))},n.prototype.getClass=function(t,n,e){return Object(i["a"])(this,void 0,void 0,(function(){var o,r;return Object(i["d"])(this,(function(i){switch(i.label){case 0:return o={type:t,sid:n,clid:e,token:this.token},[4,c["f"].getClass(o)];case 1:return r=i.sent(),this.checkToken(r.ERR_CODE),[2,r.list]}}))}))},n.prototype.getTeacher=function(t,n,e){return Object(i["a"])(this,void 0,void 0,(function(){var o,r;return Object(i["d"])(this,(function(i){switch(i.label){case 0:return o={type:t,clid:n,tid:e,token:this.token},[4,c["f"].getClassTeacher(o)];case 1:return r=i.sent(),this.checkToken(r.ERR_CODE),[2,r.list]}}))}))},n}(o["d"]),a=s.instance},"8cf3":function(t,n,e){},ecf9:function(t,n,e){"use strict";e.r(n),e.d(n,"InputForm",(function(){return l}));var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"wrap"},[e("SideNav",{attrs:{currentPage:"instructions"}}),e("div",{staticClass:"main"},[e("h1",[t._v("使用說明")]),e("form",{attrs:{name:"inputForm",id:"inputForm"}},[e("div",{staticClass:"input-box input-box-w"},[e("label",{attrs:{for:"desc"}},[t._v("內文")]),e("Tinymce",{ref:"editor",on:{input:function(n){t.inputForm.content=n}}})],1),e("div",{staticClass:"btn-area"},[e("router-link",{staticClass:"btn btn-cancel",attrs:{to:"/admin/instructions"}},[e("i",{staticClass:"fa fa-chevron-left"}),t._v(" 取消")]),e("div",{staticClass:"btn btn-submit"},[e("i",{staticClass:"fa fa-check"}),t._v(" 確認送出 "),e("input",{staticClass:"btn",attrs:{type:"button",disabled:t.doubleClick},on:{click:function(n){return n.preventDefault(),t.validateAndSubmit()}}})])],1)])]),e("Lightbox",{attrs:{message:t.errorMsg,openLB:t.openLB},on:{closeLightbox:t.closeLB}})],1)},o=[],c=e("9ab4"),r=e("1b40"),s=e("4f4c"),a=e("60b9"),u=e("3617"),d=e("0d59"),h=e("93f3"),l=function(){function t(){this.iid="",this.content=""}return t}(),f=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.doubleClick=!1,n.inputForm=new l,n.token=window.localStorage.getItem("adminToken"),n.errorMsg="",n.openLB=!1,n.errNo=0,n}return Object(c["c"])(n,t),n.prototype.created=function(){return Object(c["a"])(this,void 0,void 0,(function(){var t,n;return Object(c["d"])(this,(function(e){switch(e.label){case 0:return t={iid:this.$route.query.iid,token:this.token},[4,d["e"].get(t)];case 1:return n=e.sent(),this.assignDataToForm(n),[2]}}))}))},n.prototype.assignDataToForm=function(t){a["a"].checkToken(t.ERR_CODE);var n=t.info;this.inputForm.iid=n.iid;var e=this.$refs.editor;e.setContent(n.content),this.inputForm.content=n.content},n.prototype.validateAndSubmit=function(){return Object(c["a"])(this,void 0,void 0,(function(){var t,n,e;return Object(c["d"])(this,(function(i){switch(i.label){case 0:return this.doubleClick?[3,2]:(this.doubleClick=!0,t=document.getElementById("inputForm"),n=new FormData(t),n.append("token",this.token),n.append("iid",this.inputForm.iid),n.append("content",this.inputForm.content),e=this,[4,d["e"].edit(n)]);case 1:e.errNo=i.sent(),a["a"].checkToken(this.errNo),this.openLB=!0,this.doubleClick=!1,this.errorMsg=h["b"][this.errNo],i.label=2;case 2:return[2]}}))}))},n.prototype.closeLB=function(){this.openLB=!1,this.errNo===h["a"].Success&&this.$router.push("/admin/instructions")},n=Object(c["b"])([Object(r["a"])({components:{SideNav:s["e"],Tinymce:u["k"],Lightbox:u["i"]}})],n),n}(r["d"]),p=f,b=(e("8cf3"),e("2877")),k=Object(b["a"])(p,i,o,!1,null,null,null);n["default"]=k.exports}}]);
//# sourceMappingURL=chunk-0a5d0591.a67c3094.js.map